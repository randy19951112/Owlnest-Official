/* account/css/account.css */

/* ===== 基礎變數 (保持不變) ===== */
:root{
  --bg: #faefcf;
  --col-dark: #455169;
  --col-ink: #1f2a39;
  --col-muted: rgba(69,81,105,.70);
  --col-line: rgba(69,81,105,.14);
  --card: rgba(255,255,255,.86);
  --shadow: 0 18px 45px rgba(0,0,0,.06);
  --r-xl: 28px;
  --sidebar-w: 300px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; overflow-x: hidden; } /* 防止手機版橫向捲軸 */
body{
  margin:0;
  background: var(--bg);
  color: var(--col-dark);
  font-family: "Manrope", sans-serif;
}

/* ===== 電腦版佈局 (Desktop Default) ===== */
.wrap{ display:flex; min-height:100vh; }

.sidebar{
  width: var(--sidebar-w);
  flex-shrink: 0;
  padding: 22px 18px;
  background: rgba(255,255,255,.52);
  border-right: 1px solid rgba(69,81,105,.08);
  /* 電腦版側邊欄固定 */
  position: sticky; top:0; height:100vh; overflow:auto;
}

.main{ 
  flex-grow: 1; 
  padding: 34px 42px; 
  min-width: 0; /* 防止內容撐開容器 */
}

/* Topbar 電腦版：左右對齊 */
.topbar{
  display:flex; 
  align-items:flex-start; 
  justify-content:space-between;
  gap: 18px; 
  padding-bottom: 24px; 
  margin-bottom: 24px;
  border-bottom: 1px solid var(--col-line);
}

.h1{
  font-family: "Playfair Display", serif;
  font-weight: 700; font-size: 56px; line-height: 1.1; color: var(--col-ink);
}

.actions{ display:flex; gap: 10px; flex-wrap: wrap; }

.btn{
  display:inline-flex; align-items:center; gap:8px; padding:10px 18px;
  border-radius: 999px; font-weight: 800; font-size: 13px;
  text-decoration:none; cursor:pointer; border: 1px solid var(--col-line);
  background: white; transition: 0.2s;
}
.btn.primary{ background: var(--col-dark); color: white; border: none; }

/* ===== 手機版元件 (預設隱藏，保護電腦版) ===== */
.drawerBackdrop{
  position: fixed; inset: 0; background: rgba(0,0,0,.4);
  opacity: 0; pointer-events: none; transition: 0.25s; z-index: 40;
}
/* 關鍵：電腦版絕對隱藏此按鈕 */
.drawerBtn{ display: none; }


/* =========================================================
   手機版專用修正 (Mobile Overrides)
   ========================================================= */
@media (max-width: 860px){
  /* 1. Sidebar 改為抽屜式 */
  .sidebar{
    position: fixed; top: 0; left: 0; height: 100vh;
    width: 280px; transform: translateX(-100%);
    transition: transform .3s ease;
    z-index: 100; background: #faefcf; /* 手機版不透明背景 */
    box-shadow: none; border-right: 1px solid rgba(0,0,0,0.1);
  }
  body.nav-open .sidebar{ transform: translateX(0); box-shadow: 10px 0 40px rgba(0,0,0,0.2); }
  body.nav-open .drawerBackdrop{ opacity: 1; pointer-events: auto; }

  /* 2. Main 寬度修正 */
  .main{ padding: 20px 16px; width: 100%; }

  /* 3. Topbar 修正：允許換行 */
  .topbar{
    flex-wrap: wrap;       /* 允許內容換行 */
    justify-content: flex-start;
    align-items: center;
    gap: 12px;
    border-bottom: none;
  }

  /* 4. 顯示漢堡按鈕 */
  .drawerBtn{
    display: flex; align-items: center; justify-content: center;
    width: 40px; height: 40px;
    background: white; border: 1px solid var(--col-line);
    border-radius: 12px; cursor: pointer;
    flex-shrink: 0; /* 防止被擠壓 */
  }

  /* 5. 標題縮小 */
  .h1{ font-size: 28px; line-height: 1.2; }

  /* 6. 按鈕區：強制換行到下方並填滿 */
  .actions{
    width: 100%; 
    order: 3; /* 強制排在最後 */
    margin-top: 8px;
    display: grid; 
    grid-template-columns: 1fr 1fr; /* 雙欄排列 */
    gap: 8px;
  }
  
  /* 如果只有一個按鈕或單數個，讓最後一個佔滿 */
  .actions .btn{ justify-content: center; width: 100%; }
  .actions .btn:last-child:nth-child(odd) { grid-column: 1 / -1; }

  /* 7. 卡片與列表修正 */
  .grid { display: flex; flex-direction: column; gap: 16px; }
  .col-7, .col-5, .col-12 { width: 100% !important; }
  
  /* 訂單與產品卡片垂直排列 */
  .orderRow, .prodCard, .pCard { flex-direction: column; align-items: stretch; gap: 12px; }
  .orderRight, .pRight, .actionsRow { width: 100%; margin-top: 4px; display: flex; justify-content: space-between; }
}
